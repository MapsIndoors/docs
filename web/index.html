<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>MapsIndoors for Web - Getting started - MapsIndoors Developers</title>
    <meta name="generator" content="Hugo 0.26" />

    
    <meta name="description" content="Everything you need to get started with MapsIndoors.">
    
    <link rel="canonical" href="https://mapsindoors.github.io/web/">
    
    <meta name="author" content="MapsPeople">
    

    <meta property="og:url" content="https://mapsindoors.github.io/web/">
    <meta property="og:title" content="MapsIndoors Developers">
    <meta property="og:image" content="https://mapsindoors.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="MapsIndoors Developers">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://mapsindoors.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://mapsindoors.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://mapsindoors.github.io/fonts/icon.eot');
        src: url('https://mapsindoors.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://mapsindoors.github.io/fonts/icon.woff')
               format('woff'),
             url('https://mapsindoors.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://mapsindoors.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://mapsindoors.github.io/style.css">
    
    <script src="https://mapsindoors.github.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-light-blue palette-accent-orange">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
    
  <div class="bar default">
      
      
      <div class="button button-back" role="button" aria-label="Back">
        <a href="../" title="Back" class="toggle-button icon icon-back"></a>
      </div>
      
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        MapsIndoors for Web - Getting started
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/MapsIndoors" title="@MapsIndoors on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">

  
  
    
    
    
  
    
    
    
  
    
    
    
    <a href="https://mapsindoors.github.io/web" class="project">
      <div class="banner">
        <div class="logo">
          <img src="https://mapsindoors.github.io//logos/web-logo.svg" style="padding:10px">
        </div>
        <div class="name">
          <strong>Web SDK <span class="version">1.4.1</span></strong>
          
        </div>
      </div>
    </a>
    
  
    
    
    
  
  <hr />
  <div class="scrollable">
    <div class="wrapper">
      <div class="toc">
          
          
          
          
          
          
          
          
                  
          <ul>
            
            


<li>
    <span class="section">Web SDK</span>
    <ul>
      
        
        



<a class="current" title="Getting Started" href="https://mapsindoors.github.io/web">
	
	Getting Started
</a>


<ul id="scrollspy">
</ul>


      
        
        



<a  title="Next Steps" href="https://mapsindoors.github.io/web/guide-part2">
	
	Next Steps
</a>



      
        
        



<a  title="Reference Docs" href="https://mapsindoors.github.io/web/reference">
	
	Reference Docs
</a>



      
    </ul>
</li>
          </ul>
          
          
          
          
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/MapsIndoors" target="_blank" title="@MapsIndoors on GitHub">
              @MapsIndoors on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="https://mapspeople.com/support" title="Contact Support">
              Contact Support
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>MapsIndoors for Web - Getting started </h1>

			

<h2 id="basic-example">Basic Example</h2>

<p>You will find in the <a href="https://github.com/namine92/mapsIndoorwebTut">link</a> an up and running project that contains the minimum code to start a MapsIndoors project.
You can only run the project inside a web server, it&rsquo;s already inside a static nodejs server so you have to install nodejs and npm before, then run :</p>

<pre><code class="language-javascript">npm install
</code></pre>

<p>Then</p>

<pre><code class="language-javascript">node app.js
</code></pre>

<p>You can also follow the steps below to start your app from scratch or to enhance the Basic Example, more advanced feature will be explained in the <a href="https://mapsindoors.github.io/web/guidepart2">part 2</a> of this tutorial with a demo app that gives a showcase of the mapsIndoors in a complete app that you can test also.</p>

<h2 id="script-loading">Script Loading</h2>

<p>Include the following scripts in your document. MapsIndoors depend on jQuery and Google Maps API v3, so if it’s not present on script load, MapsIndoors will not be able to initialize.
If you need to use a floor selector (most projects do), just add a css reference as in the sample. This will provide a basic CSS-layout for the floor selector.</p>

<pre><code class="language-html">&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;https://maps.googleapis.com/maps/api/js?libraries=geometry&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;https://app.mapsindoors.com/mapsindoors/js/sdk/MapsIndoors-1.1.1.js?solutionId=MY_MAPSINDOORS_SOLUTION_ID&quot;&gt;&lt;/script&gt;
// Load css for default floor selector
&lt;link href=&quot;https://app.mapsindoors.com/mapsindoors/js/sdk/ui/FloorSelector.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot; /&gt;
</code></pre>

<h2 id="setting-up-a-map">Setting up a map</h2>

<p>This is an example of setting up a MapsIndoors enabled Google map. First, as always when setting up Google Maps, create a div with defined height and width.</p>

<pre><code class="language-html">&lt;div id=&quot;map&quot; style=&quot;width:600px;height:600px&quot;&gt;&lt;/div&gt;
</code></pre>

<p>Then add the following script code somewhere on your HTML page.</p>

<pre><code class="language-javascript">var myGoogleMap, myMapsIndoors;

var init = function () {

   // Setup google map
   myGoogleMap = new google.maps.Map(document.getElementById('map'), { center: { lat: 57.085809, lng: 9.9573899 }, zoom: 17 });

   // Setup MapsIndoors
   myMapsIndoors= new mapsindoors.MapsIndoors({ map: myGoogleMap });

   // Add a floor selector
   var div = document.createElement('div');
   var floorSelector = new mapsindoors.FloorSelector(div, myMapsIndoors);
   myGoogleMap.controls[google.maps.ControlPosition.RIGHT_TOP].push(div);

};

google.maps.event.addDomListener(window, 'load', init);
</code></pre>

<h2 id="using-events">Using Events</h2>

<p>MapsIndoors uses the Google Maps built-in event handling system, so listening for event on various object is straight-forward. Here are some examples.</p>

<pre><code class="language-javascript">google.maps.event.addListener(myMapsIndoors, &quot;ready&quot;, function (result) {
   console.log(result);
});

google.maps.event.addListener(myMapsIndoors, 'building_changed', function () {
   console.log(this);
});

google.maps.event.addListener(myMapsIndoors, 'floor_changed', function () {
 console.log(this);
});

google.maps.event.addListener(myMapsIndoors, 'location_click', function () {
 console.log(this);
});

google.maps.event.addListener(directionsRenderer, 'before_action_rendered', function () {
   console.log(arguments);
});

google.maps.event.addListener(marker, 'click', function () {
   console.dir(this);
});
</code></pre>

<p>The event names and their targets are as follows:</p>

<table>
<thead>
<tr>
<th>Event Name</th>
<th>Target Object of Class</th>
<th>Returns</th>
</tr>
</thead>

<tbody>
<tr>
<td>&ldquo;ready&rdquo;</td>
<td>MapsIndoors</td>
<td>MapsIndoors object</td>
</tr>

<tr>
<td>&ldquo;building_changed&rdquo;</td>
<td>MapsIndoors</td>
<td>Current building object</td>
</tr>

<tr>
<td>&ldquo;floor_changed&rdquo;</td>
<td>MapsIndoors</td>
<td>Current floor index</td>
</tr>

<tr>
<td>&ldquo;location_click&rdquo;</td>
<td>MapsIndoors</td>
<td>Selected location</td>
</tr>
</tbody>
</table>

<h2 id="create-an-infobox">Create an Infobox</h2>

<p>Most often you might want to display location content when a user clicks or taps on an icon. You can use the simple Infobox UI component for this. Add the infobox stylesheet as a starting point for the design.</p>

<pre><code class="language-html">&lt;link href=&quot;https://app.mapsindoors.com/mapsindoors/js/sdk/ui/Infobox.css&quot; rel=&quot;stylesheet&quot; /&gt;
</code></pre>

<p>Provide the following html code in your document. For templating we use <a href="https://github.com/adammark/Markup.js/">Markup.js</a>.</p>

<pre><code class="language-html">&lt;div id=&quot;infobox&quot; class=&quot;mapsindoors infobox&quot;&gt;
   &lt;a data-close&gt;x&lt;/a&gt;
   &lt;table&gt;
      &lt;tr&gt;&lt;td&gt;&lt;i class=&quot;fa fa-map-marker&quot;&gt;&lt;/i&gt;&lt;/td&gt;&lt;td&gt;&lt;h3&gt;{{ if properties.roomid properties.roomid }} {{ properties.name }}&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;&lt;i class=&quot;fa fa-building-o&quot;&gt;&lt;/i&gt;&lt;/td&gt;&lt;td&gt;Building {{ properties.building }}&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;&lt;i class=&quot;fa fa-arrows-v&quot;&gt;&lt;/i&gt;&lt;/td&gt;&lt;td&gt;Floor {{ properties.floor }}&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;&lt;i class=&quot;fa fa-info&quot;&gt;&lt;/i&gt;&lt;/td&gt;&lt;td&gt;{{ if properties.description properties.description }}&lt;/td&gt;&lt;/tr&gt;
   &lt;/table&gt;
&lt;/div&gt;
</code></pre>

<p>Here is an example on how to setup the component.</p>

<pre><code class="language-javascript">// Div containing an input search element
var infoDiv = document.getElementById('infobox');

// Optionally insert the Infobox UI-component into google maps
googleMap.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(infoDiv);
// Instantiate infobox
var infobox = new mapsindoors.Infobox(infoDiv);

locationsService.getLocationDetails(&quot;SOME-MAPSINDOORS-ID&quot;).then(function (location) {
   // Show location content in infobox
   infobox.show(location);
   // if &lt;a data-close&gt;x&lt;/a&gt; is present in your infobox element, user can close the infobox, or it can be closed programmatically
   setTimeout(function() {
      infobox.close();
   }, 5000);
});
</code></pre>

<h2 id="using-the-mapsindoors">Using the mapsIndoors</h2>

<p>Constructor.</p>

<pre><code class="language-javascript">var googleMap = new google.maps.Map(...);

var mapsIndoors = new mapsindoors.MapsIndoors(
   {
      map: googleMap
   }
)
</code></pre>

<h2 id="using-the-display-rules">Using the Display rules</h2>

<p>Display rules use the following structure:</p>

<pre><code class="language-javascript">{
   from: zoom_level,             // Optional - defaults to 0
   to: zoom_level,               // Optional - defaults to 21
   icon: google.maps.icon|&quot;url&quot;  // Optional - defaults to current location icon url (dynamically set)
   visible: boolean              // Optional - defaults to true
};
</code></pre>

<p>To add your own custom icons for locations (point-of-interest, rooms, etc.), setup display rule(s) and make it known to your MapsIndoors object.</p>

<pre><code class="language-javascript">var googleMap = new google.maps.Map(...);
var mapsIndoors = new mapsindoors.MapsIndoors({map: googleMap});

mapsIndoors.setDisplayRule(&quot;info&quot;, {from:16, icon:&quot;http://myiconhost.com/info.png&quot; });
</code></pre>

<p>Display rules are based on POI/Location types. Every location has one type <code>propertylocation.properties.type</code>. A set of types is defined/used in the MapsIndoors CMS. The current list of types can be listed using the LocationService:</p>

<pre><code class="language-javascript">var locations = new mapsindoors.LocationService();

locations.getTypes().then(function(types) {
   // returns array of types with format { name:string, icon:string }
});
</code></pre>

<p>Two of these types could be of name “Parking” and “Office”, which indicates that these types are used for parking lots and offices respectively. In most cases, you might want to display parking icons on zoom-levels above office icons. Based on this intention you could set these rules:</p>

<pre><code class="language-javascript">mapsIndoors.setDisplayRule(&quot;parking&quot;, { from:16 }); // Using default type icon
mapsIndoors.setDisplayRule(&quot;office&quot;, { from:20 });  // Using default type icon
</code></pre>

<h2 id="using-locate">Using locate</h2>

<p>Use the locate method to find and highlight different elements of the MapsIndoors content. An example is given below. Note: The example shows all options, but only one of building, venue, locationId and location is necessary.</p>

<pre><code class="language-javascript">var googleMap = new google.maps.Map(...);

var mapsIndoors = new mapsindoors.MapsIndoors({map:googleMap});

mapsIndoors.locate(
   {
      building: &quot;34&quot;          // Optional - Using the administrative id for building
      venue: &quot;VenueA&quot;         // Optional - Using name for venue
      locationId: &quot;id&quot;        // Optional - Mapsindoors location id string
      locations: {            
         q: &quot;lounge&quot;,         // Optional - Search for matches in location name or aliases
         building: &quot;34&quot;,      // Optional - Fetch from specific building, using the administrative id of the building
         venue: &quot;VenueA&quot;,     // Optional - Fetch from specific venue, using name of venue
         floor: 1,                     // Optional - Fetch from 1st floor only
         take: 10,                     // Optional - Fetch only 10 locations
         skip: 10,                     // Optional - Skip first 10 in result
         near: {lat:57.5, lng: 12.9}   // Optional - Sort by proximity to geographic point
         radius: 50           // Optional - Fetch only nearest within meters from near
         orderBy: &quot;name&quot;      // Optional - Sort by name (possible values are Name, Floor
                              // Building, Venue, Type and RoomId)
      },
      fitBounds: true,        // Optional - Suppress display of other
                              // existing locations on the map
      fitBounds: true,        // Optional - Center map around result    
      displayRule: {          // Optional - Set a display rule for the resulting content
         from:16,
         icon: &quot;http://myiconhost.com/searchresult.png&quot;
      }
   }
);
</code></pre>

<h2 id="setting-the-map">Setting the map</h2>

<p>Set the Google map that needs to be MapsIndoors-enabled.</p>

<pre><code class="language-javascript">mapsIndoors.setMap(googleMap)
</code></pre>

<h2 id="getting-the-map">Getting the map</h2>

<p>Returns the Google Maps object.</p>

<pre><code class="language-javascript">mapsIndoors.getMap()
</code></pre>

<h3 id="reset-the-style-of-the-map">Reset the style of the map</h3>

<p>Resets the map to the appearance defined by the provided display rules. Displayed floor, map center and zoom-level will remain untouched.</p>

<pre><code class="language-javascript">mapsIndoors.reset()
</code></pre>


			<aside class="copyright" role="note">
				
				&copy; 2017 MapsIndoors (c)2017 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://mapsindoors.github.io/android/reference/" title="MapsIndoors for Android Reference Guide">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              MapsIndoors for Android Reference Guide
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://mapsindoors.github.io/web/guide-part2/" title="MapsIndoors for Web - Part 2">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              MapsIndoors for Web - Part 2
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/mapsindoors.github.io\/';
      var repo_id  = 'MapsIndoors\/';
    
    </script>

    <script src="https://mapsindoors.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-63919776-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

