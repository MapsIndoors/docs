<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Creating your own Location Data Source - Part 2 - Indoor Navigation Built with Google Maps</title>
    <meta name="generator" content="Hugo 0.26" />

    
    <meta name="description" content="Everything you need to get started with MapsIndoors.">
    
    <link rel="canonical" href="https://mapsindoors.github.io/android/v3/tutorials/locationdatasourcesbatterieslocationdatasource/">
    
    <meta name="author" content="MapsPeople">
    

    <meta property="og:url" content="https://mapsindoors.github.io/android/v3/tutorials/locationdatasourcesbatterieslocationdatasource/">
    <meta property="og:title" content="Indoor Navigation Built with Google Maps">
    <meta property="og:image" content="https://mapsindoors.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Indoor Navigation Built with Google Maps">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://mapsindoors.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://mapsindoors.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://mapsindoors.github.io/fonts/icon.eot');
        src: url('https://mapsindoors.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://mapsindoors.github.io/fonts/icon.woff')
               format('woff'),
             url('https://mapsindoors.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://mapsindoors.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://mapsindoors.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://mapsindoors.github.io/style.css">
    
    <script src="https://mapsindoors.github.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-green palette-accent-orange">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
    
  <div class="bar default">
      
      
      <div class="button button-home" role="button" aria-label="Back">
        <a href="https://mapsindoors.github.io/" title="Back" class="toggle-button icon icon-close"></a>
      </div>
      
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Creating your own Location Data Source - Part 2
      </div>
    </div>

    <div class="button mapspeople-logo" role="button" aria-label="MapsPeople">      
      <a href="https://mapspeople.com" class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576.6 110.1" enable-background="new 0 0 576.6 110.1">
        <style type="text/css">.logo0{fill:#008441;} .logo1{fill:#48A842;} .logo2{fill:#89C13D;} .logo3{fill:#BFD730;}</style><path class="logo0" d="M38.3 30.4c4.3-3 10.4-4.8 14.9-4.8 14.2 0 20.1 7.4 20.1 19.2v37.8H59.2V45.4c0-4.1-2.3-6-6-6-4.8 0-7.7 1.4-9.5 2.2v41H29.6V45.4c0-4.1-2.3-6-6-6-4.2 0-7.2 1.2-9.5 2.2v41H0V27.4h9.9l.8 1.9c3.9-2.2 9-3.6 12.8-3.6 7.8-.1 11.9 1.9 14.8 4.7z"></path><path class="logo1" d="M117.4 45.1c0-3.9-2-5.7-7.1-5.7-5.4 0-12.8 1.4-18.6 3.5v-14c6.1-2.8 13.7-3.3 18.6-3.3 16.7 0 21 8.1 21 20.2v36.8h-9.8l-.8-1.7c-3.8 2-8.9 3.4-12.7 3.4-15.1 0-20-9.5-20-19.8 0-9.6 5.2-17.8 20-18.8l9.4-.6zm-9.1 13.5c-4.9.4-6.2 3.2-6.2 6 0 2.5.7 6 6.1 6 3 0 7.1-1.5 9.2-2.6V58l-9.1.6z"></path><path class="logo2" d="M147.6 27.4h9.8l.7 2c3.8-2.3 9.2-3.8 13.3-3.8 18.7 0 24 10.5 24 29.4 0 19-5.3 29.4-24 29.4-3 0-7.3-.9-10-2.1v27.9h-13.9V27.4zm13.8 41c2.3 1 6 2.1 9.8 2.1 8.4 0 10-6.6 10-15.6s-1.7-15.6-10-15.6c-3.8 0-7.5 1.1-9.8 2.1v27z"></path><path class="logo3" d="M230.5 47.5c15.8 1.5 19.4 7.4 19.4 17.7 0 9.3-5.4 19.2-22.2 19.2-5 0-13-1.7-17.4-3.4V66.5c5 1.9 11.7 4 17.6 4 6.5 0 8.4-2.8 8.4-5.2 0-2.2-1.3-3.9-7.1-4.4-15.5-1.5-19.4-8.1-19.4-16.7s5.2-18.7 20.8-18.7c4.9 0 10.8.8 17 3.6V43c-5.9-2.1-11.4-3.8-17-3.8-5.9 0-7.2 2.2-7.2 4.7-.1 1.9 1.1 3 7.1 3.6z"></path><path d="M269.4 78.5v31.6H266V27.5h1.5l1.6 4.3c4.9-3.2 13.2-4.8 19.6-4.8 18.6 0 23.2 12.2 23.2 28.1 0 15.9-4.6 28.1-23.2 28.1-6.3-.1-14.3-1.6-19.3-4.7zm0-43.9v40.9c5 3.1 11.4 4.6 19.3 4.6 16.7 0 19.7-12.7 19.7-25.1 0-12.4-3-25.1-19.7-25.1-7.8 0-14.2 1.6-19.3 4.7zM368.8 77.4v3c-4.4 1.7-11.8 2.8-17.8 2.8-18.6 0-23.2-11.7-23.2-28.1S332.4 27 351 27s20.6 11.9 20.6 28.1v1.5h-40.4c.2 12.4 3.7 23.6 19.7 23.6 8.4-.1 13.8-1.5 17.9-2.8zm-.5-23.9c0-12-1.2-23.6-17.3-23.6-16 0-19.5 11.1-19.7 23.6h37zM409.6 27c19.6 0 23.1 11.9 23.1 28.1 0 16.2-3.5 28.1-23.1 28.1s-23.1-11.9-23.1-28.1c-.1-16.2 3.4-28.1 23.1-28.1zm0 53.1c17.6 0 19.6-11.2 19.6-25.1 0-13.9-2-25.1-19.6-25.1S389.9 41.2 389.9 55c0 13.9 2 25.1 19.7 25.1zM452 78.5v31.6h-3.4V27.5h1.5l1.6 4.3c4.9-3.2 13.2-4.8 19.6-4.8 18.6 0 23.2 12.2 23.2 28.1 0 15.9-4.6 28.1-23.2 28.1-6.3-.1-14.4-1.6-19.3-4.7zm0-43.9v40.9c5 3.1 11.4 4.6 19.3 4.6C488 80.1 491 67.5 491 55c0-12.4-3-25.1-19.7-25.1-7.9 0-14.3 1.6-19.3 4.7zM519.8 83.1c-5.9 0-8.5-2.6-8.5-8V0h3.4v74.9c0 4.2 1.1 5.6 5.2 5.6v2.6zM573.8 77.4v3c-4.4 1.7-11.8 2.8-17.8 2.8-18.6 0-23.2-11.7-23.2-28.1S537.3 27 556 27c18.6 0 20.6 11.9 20.6 28.1v1.5h-40.4c.2 12.4 3.7 23.6 19.7 23.6 8.4-.1 13.7-1.5 17.9-2.8zm-.6-23.9c0-12-1.2-23.6-17.3-23.6S536.4 41 536.2 53.5h37z"></path></svg>
      </a>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/MapsIndoors" title="@MapsIndoors on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">

  
  
    
    
    
    <a href="https://mapsindoors.github.io/android/v3" class="project">
      <div class="banner">
        <div class="logo">
          <img src="https://mapsindoors.github.io//logos/android-logo.svg" style="padding:10px">
        </div>
        <div class="name">
          <strong>Android SDK <br /><span class="version">3.1.1</span></strong>
          
        </div>
      </div>
    </a>
    
  
    
    
    
    <a href="https://mapsindoors.github.io/android/v2" class="project">
      <div class="banner">
        <div class="logo">
          <img src="https://mapsindoors.github.io//logos/android-logo.svg" style="padding:10px">
        </div>
        <div class="name">
          <strong>Android SDK <br /><span class="version">2.0.8</span></strong>
          
        </div>
      </div>
    </a>
    
  
    
    
    
  
    
    
    
  
    
    
    
  
    
    
    
  
    
    
    
  
  <hr />
  <div class="scrollable">
    <div class="wrapper">
      <div class="toc">
          
          
                  
          <ul>
            
            


<li>
    <span class="section">Android SDK</span>
    <ul>
      
        
        



<a  title="Getting Started" href="https://mapsindoors.github.io/android/v3">
	
	Getting Started
</a>



      
        
        



<a  title="Guides" href="https://mapsindoors.github.io/android/v3/guides">
	
	Guides
</a>



      
        
        



<a  title="Tutorials" href="https://mapsindoors.github.io/android/v3/tutorials">
	
	Tutorials
</a>



      
        
        



<a  title="Reference Docs" href="https://app.mapsindoors.com/mapsindoors/reference/android/v3/index.html">
	
	Reference Docs
</a>



      
        
        



<a  title="Changelog" href="https://mapsindoors.github.io/android/v3/changelog">
	
	Changelog
</a>



      
    </ul>
</li>
          </ul>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        

        
        <hr>
        <span class="section">Useful links</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/MapsIndoors" target="_blank" title="@MapsIndoors on GitHub">
              @MapsIndoors on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="https://mapspeople.com/support" title="Contact Support">
              Contact Support
            </a>
          </li>
          
          <li>
            <a href="https://status.mapsindoors.com" title="MapsIndoors System Status">
              System Status
            </a>
          </li>
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Creating your own Location Data Source - Part 2 </h1>

			<p>In this tutorial we will show how you can build a custom Location Source. In <a href="locationsourcespeoplelocationsource">Part 1</a> we created a people location source that mocks locations of people.</p>

<p>Now we will create another location source that represents batteries. The power level of the batteries will be changing over time and it needs to be visible on the map realtime.</p>

<p>We will start by creating our implementation of a location source.</p>

<p>Create the class <code>BatteriesLocationDataSource</code> that implements <code>MPLocationSource</code>.</p>

<pre><code>public class BatteriesLocationDataSource implements MPLocationSource {
</code></pre>

<p>First we need to predefine some attributes.
* <code>BASE_POSITION</code>: We need a base position as a start for the Locations.
* <code>LOCATIONS_COUNT</code>: The number of locations desired.
* <code>LOCATION_SOURCE_ID</code>: a unique  location source ID.
* <code>LOCATION_TYPE</code>: a type for the locations of this source.
* <code>LOCATION_CLUSTER_ID</code>: A cluster ID that will let locations from this source cluster together on the map in case of overlap.
* <code>DISPLAY_RULE</code>: The display rule for the locations of this source.</p>

<pre><code>private static final LatLng BASE_POSITION       = new LatLng( 57.0579814, 9.9504668 );
private static final int    LOCATIONS_COUNT     = 20;
private static final int    LOCATION_SOURCE_ID  = 10000;
private static final String LOCATION_TYPE       = &quot;BatteryLocationType&quot;;
private static final int    LOCATION_CLUSTER_ID = 2;
static final LocationDisplayRule DISPLAY_RULE = new LocationDisplayRule.Builder( LOCATION_TYPE ).
        setVectorDrawableIcon( R.drawable.ic_battery_60_black_24dp ).
        setVisible( true ).
        setShowLabel( false ).
        setZoomLevelOn( 16 ).
        setLocationClusterId( LOCATION_CLUSTER_ID ).
        setDisplayRank( 1 ).
        build();
</code></pre>

<p>Then we need to add some variables.
* <code>observers</code>: The observer objects that we will notify about changes.
* <code>locationsList</code>: A list of MPLocation - Will have the list of the MPLocations up to date.
* <code>status</code>: holds the status of the location data source.
* <code>random</code>: Used to generate some random values in the data creation and editing.
* <code>mDataUpdateTimer</code>: Timer that we will need to plan some recurrent updates.
* <code>iconCurrentIndex</code>: An index for icons so we can update the locations with the same icon each time.</p>

<pre><code>@NonNull
private List&lt;MPLocationsObserver&gt; observers;
private List&lt;MPLocation&gt; locationsList;
private MPLocationSourceStatus status;
private Random random = new Random();
private Timer mDataUpdateTimer;
private int iconCurrentIndex = 0;
BatteriesLocationDataSource() {
    this.locationsList = new ArrayList&lt;&gt;( LOCATIONS_COUNT );
    this.observers = new ArrayList&lt;&gt;();
    this.status = MPLocationSourceStatus.NOT_INITIALIZED;
}
</code></pre>

<p>Create the <code>startUpdatingIcons</code> method that simply calls <code>updateLocations</code> every half a second.</p>

<pre><code>void startUpdatingIcons() {
    if (!setup()) {
        return;
    }
    if (mDataUpdateTimer != null) {
        mDataUpdateTimer.cancel();
        mDataUpdateTimer = null;
    }
    mDataUpdateTimer = new Timer();
    mDataUpdateTimer.scheduleAtFixedRate(new TimerTask() {
        @Override
        public void run() {
            updateLocations();
        }
    }, 2000, 500 );
}
</code></pre>

<p>Create a method that can stop the icons update at any time.</p>

<pre><code>void stopUpdatingIcons() {
    if (mDataUpdateTimer != null) {
        mDataUpdateTimer.cancel();
        mDataUpdateTimer.purge();
    }
}
</code></pre>

<p>Create a method called <code>setup</code> that will:
* Make sure that data source was not already initialized and data is loaded.
* Create the locations.
* Make the first notification.
* Change the status to available.</p>

<pre><code>private boolean setup()
{
    if( this.status != MPLocationSourceStatus.NOT_INITIALIZED ) {
        return true;
    }
    final BuildingCollection buildingCollection = MapsIndoors.getBuildings();
    final boolean gotBuildings = buildingCollection != null;
    if( !gotBuildings ) {
        return false;
    }
    locationsList.clear();
    locationsList.addAll( generateLocations( true ) );
    notifyUpdateLocations( locationsList );
    setStatus( MPLocationSourceStatus.AVAILABLE );
    return true;
}
// Icons
@DrawableRes
final int[] icons = new int[]{
        R.drawable.ic_battery_20_black_24dp,
        R.drawable.ic_battery_30_black_24dp,
        R.drawable.ic_battery_50_black_24dp,
        R.drawable.ic_battery_60_black_24dp,
        R.drawable.ic_battery_80_black_24dp,
        R.drawable.ic_battery_90_black_24dp,
        R.drawable.ic_battery_full_black_24dp
};
</code></pre>

<p>Create a method called <code>updateLocations</code>. Iterate number again and for each iteration:
* Get the corresponding MPLocation Builder
* Set a new position
* Generate an MPLocation from a MPLocation.Builder
* Call the notifyUpdateLocations with the updated list.</p>

<pre><code>void updateLocations() {
    if (!MapsIndoors.isReady()) {
        return;
    }
    final int locCount = locationsList.size();
    final List&lt;MPLocation&gt; updatedList = new ArrayList&lt;&gt;(locCount);
    int iColor = 0;
    @DrawableRes int currentIcon = 0;
    // Icon and tint color (animated)
    final int availableIconsCount = icons.length;
    // the color tint will vary
    iColor = ColorUtils.blendARGB(0xff2DD855, 0xffFF3700, ((1f * iconCurrentIndex) / availableIconsCount));
    currentIcon = icons[iconCurrentIndex];
    iconCurrentIndex = (iconCurrentIndex + 1) % availableIconsCount;
    for (int i = 0, LocationCount = locationsList.size(); i &lt; LocationCount; i++) {
        final MPLocation p = locationsList.get( i );
        // &quot;Update&quot; an MPLocation by using the copy/edit builder
        final MPLocation.Builder updatedLocation = new MPLocation.Builder( p );
        // Change the icon &amp; tint color
        updatedLocation.
                // Specify a size
                setVectorDrawableIcon( currentIcon, 32, 32 ).
                // Specify the tint color
                setTint( iColor );
        updatedList.add( updatedLocation.build() );
    }
    locationsList.clear();
    locationsList.addAll( updatedList );
    notifyUpdateLocations( updatedList );
}
</code></pre>

<p>Create a method called <code>generateLocations</code>:
* An MPLocation.Builder with an id
* A random position
* A name
* A type - later used to style the location
* A floor Index
* A building</p>

<pre><code>@NonNull
private List&lt;MPLocation&gt; generateLocations( boolean randomizeStartingPosition )
{
    final List&lt;MPLocation&gt; peopleLocations = new ArrayList&lt;&gt;( LOCATIONS_COUNT );
    final BuildingCollection buildingCollection = MapsIndoors.getBuildings();
    final boolean gotBuildingData = buildingCollection != null;
    for ( int i = 0; i &lt; LOCATIONS_COUNT; i++) {
        final LatLng personPosition;
        if (randomizeStartingPosition) {
            personPosition = getRandomPosition();
        } else {
            personPosition = BASE_POSITION;
        }
        final MPLocation.Builder locBuilder = new MPLocation.Builder( &quot;&quot; + LOCATION_SOURCE_ID + i );
        locBuilder.setPosition( personPosition ).
                setName( &quot;Battery&quot; + i ).
                setType( LOCATION_TYPE );
        if (gotBuildingData) {
            // Find a building at this location (personPosition)
            final Building building = buildingCollection.getBuilding(personPosition);
            if (building != null) {
                // Building found at this location, get the list of floors in it
                final List&lt;Floor&gt; floors = building.getFloors();
                // Choose a random floor
                final Floor floor = floors.get((int) (Math.random() * (floors.size())));
                // Set the Location floor
                locBuilder.setFloor((floor != null) ? floor.getZIndex() : Floor.DEFAULT_GROUND_FLOOR_INDEX);
                // Set the building name where this Location is in
                locBuilder.setBuilding( building.getName() );
            } else {
                // If this location was outside a building, set its floor/z index to zero (ground floor)
                locBuilder.setFloor( Floor.DEFAULT_GROUND_FLOOR_INDEX );
            }
        } else {
            // If this location was outside a building, set its floor/z index to zero (ground floor)
            locBuilder.setFloor( Floor.DEFAULT_GROUND_FLOOR_INDEX );
        }
        peopleLocations.add( locBuilder.build() );
    }
    return peopleLocations;
}
</code></pre>

<p>Create a method called <code>getRandomPosition</code> that simply returns a random LatLng (here within proximity of the demo venue)</p>

<pre><code>private LatLng getRandomPosition() {
    final double lat = BASE_POSITION.latitude + (-4 + random.nextInt(20)) * 0.000005;
    final double lng = BASE_POSITION.longitude + (-4 + random.nextInt(20)) * 0.000010;
    return new LatLng(lat, lng);
}
</code></pre>

<p>Create a method called <code>notifyUpdateLocations</code> to loop all the observers and notify them with an update</p>

<pre><code>private void notifyUpdateLocations( List&lt;MPLocation&gt; updatedLocations ) {
    for( int i = observers.size(); --i &gt;= 0; ) {
        observers.get( i ).onLocationsUpdated( updatedLocations, this );
    }
}
</code></pre>

<p>The same thing for notifying observers with new status</p>

<pre><code>private void notifyLocationStatusChanged( @NonNull MPLocationSourceStatus prevStatus, @NonNull MPLocationSourceStatus newStatus ) {
    for( int i = observers.size(); --i &gt;= 0; ) {
        observers.get( i ).onStatusChanged( newStatus, this );
    }
}
</code></pre>

<p>Sets the internal state and notifies a status changed message if applies</p>

<pre><code>private void setStatus( @NonNull MPLocationSourceStatus newStatus ) {
    MPLocationSourceStatus cStatus = status;
    if (cStatus != newStatus) {
        status = newStatus;
        notifyLocationStatusChanged( cStatus, newStatus );
    }
}
</code></pre>

<p>Implement the MPLocationSource method <code>getLocations</code>. This List will always contain the up to date MPLocations</p>

<pre><code>@NonNull
@Override
public List&lt;MPLocation&gt; getLocations() {
    return locationsList;
}
</code></pre>

<p>Implement the MPLocationSource method <code>addLocationObserver</code>.</p>

<pre><code>@Override
public void addLocationsObserver(@Nullable MPLocationsObserver observer) {
    if (observer != null) {
        observers.remove(observer);
        observers.add(observer);
    }
}
</code></pre>

<p>Implement the MPLocationSource method <code>removeLocationObserver</code>.</p>

<pre><code>@Override
public void removeLocationsObserver(@Nullable MPLocationsObserver observer) {
    if (observer != null) {
        observers.remove(observer);
    }
}
</code></pre>

<p>Implement the MPLocationSource method <code>getStatus</code>.</p>

<pre><code>@NonNull
@Override
public MPLocationSourceStatus getStatus() {
    return status;
}
</code></pre>

<p>Implement the MPLocationSource method <code>getSourceId</code>.</p>

<pre><code>@Override
public int getSourceId() {
    return LOCATION_SOURCE_ID;
}
</code></pre>

<p><a href="https://github.com/MapsIndoors/MapsIndoorsAndroid-Demo-Samples/blob/master/app/src/main/java/com/mapsindoors/locationdatasources/BatteriesLocationDataSource.java">See the sample in BatteriesLocationDataSource.java</a></p>


			<aside class="copyright" role="note">
				
				&copy; 2019 MapsIndoors (c)2017 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://mapsindoors.github.io/android/v3/tutorials/locationdatasourcespeoplelocationdatasource/" title="Creating your own Location Data Source - Part 1">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Creating your own Location Data Source - Part 1
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://mapsindoors.github.io/android/v3/tutorials/locationdatasourceslocationdatasourcesfragment/" title="Creating your own Location Data Source - Part 3">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Creating your own Location Data Source - Part 3
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/mapsindoors.github.io\/';
      var repo_id  = 'MapsIndoors\/';
    
    </script>

    <script src="https://mapsindoors.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-63919776-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

