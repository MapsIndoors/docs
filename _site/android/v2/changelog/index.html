<p>Changelog for the MapsIndoors Android SDK. This document structure is based on <a href="http://keepachangelog.com/en/1.0.0/">Keep a Changelog</a> and the project adheres to <a href="http://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<!--
### Added        for new features.
### Changed      for changes in existing functionality.
### Deprecated   for soon-to-be removed features.
### Removed      for now removed features.
### Fixed        for any bug fixes.
### Security     in case of vulnerabilities.
-->
<h2>[2.0.7] - 2018-09-05</h2>
<h3>Added</h3>
<ul>
<li><code>MapControl.setDisplayRuleDefaultIconSize()</code>: Overwrites the display rules default icon size. Applies only to those display rules that don't specify the size.</li>
<li><code>LocationDisplayRule.Builder.setVectorDrawableIcon( vectorDrawableResId )</code>: Sets the icon using a <code>VectorDrawable</code> at the default size (either the current base - 20dp or the one set with <code>MapControl.setDisplayRuleDefaultIconSize()</code>)</li>
<li>Exposed <code>PositionIndicator.USER_POSITION_DISPLAY_RULE_NAME</code></li>
</ul>
<h2>[2.0.6] - 2018-08-31</h2>
<h3>Added</h3>
<ul>
<li><code>LocationDisplayRule.Builder.setLabel()</code>.</li>
<li><code>MapControl.refreshMap()</code>: Triggers a refresh on the visible part of the map (POIs, etc.).</li>
</ul>
<h3>Changed</h3>
<ul>
<li>
<p>Moved all classes under the <code>com.mapsindoors.mapssdk.models</code> package up to <code>com.mapsindoors.mapssdk</code>.</p>
</li>
<li>
<p><code>DisplayRule</code> fields are now public for internal reasons. To read their values, please use the provided getters.</p>
</li>
<li>
<p>Made <code>LocationDisplayRule.setZoomLevelOn()</code> and <code>LocationDisplayRule.setZoomLevelOff()</code> package private.</p>
</li>
<li>
<p>Proguard rules:</p>
</li>
</ul>
<pre><code class="language-java">-keep interface com.mapsindoors.mapssdk.** { *; }
-keepclassmembers class * implements com.mapsindoors.mapssdk.MIModelBase { \&lt;fields&gt;; }
</code></pre>
<h3>Deprecated</h3>
<ul>
<li><code>LocationDisplayRule.Builder.setPoiTypeDisplayRuleLabel()</code>: Use <code>LocationDisplayRule.Builder.setLabel()</code> instead.</li>
</ul>
<h3>Removed</h3>
<ul>
<li><code>BitmapLoader</code> which was already replaced by <code>MIImageProvider</code></li>
</ul>
<h2>[2.0.5] - 2018-08-27</h2>
<h3>Added</h3>
<ul>
<li><code>Mapcontrol.setGoogleMap( GoogleMap, View )</code>: Sets the GoogleMap object and its parent view. Use it along the basic constructor (<code>MapControl( Context )</code>)</li>
</ul>
<h3>Changed</h3>
<ul>
<li>Annotated <code>MapControl.selectFloor()</code> as to be run on the UIThread</li>
<li>The user's location marker (aka blue dot) will fade 50% when the current floor the user is at is different than the one highlighted in the floor selector</li>
</ul>
<h3>Deprecated</h3>
<ul>
<li><code>LocationQuery.getFloor()</code>, <code>LocationQuery.setFloor()</code>, <code>LocationQuery.Builder.setFloor()</code>: Use the floor index getters/setters instead</li>
<li><code>Mapcontrol.MapControl( Context, SupportMapFragment, GoogleMap )</code>: Use <code>MapControl( Context )</code> together with <code>MapControl.setGoogleMap( GoogleMap, View )</code></li>
<li><code>Mapcontrol.setGoogleMap( GoogleMap, SupportMapFragment )</code>, <code>Mapcontrol.setGoogleMap( GoogleMap, MapView )</code>: Use <code>MapControl.setGoogleMap( GoogleMap, View )</code> instead</li>
</ul>
<h2>[2.0.4] - 2018-07-26</h2>
<h3>Added</h3>
<ul>
<li><code>MapsIndoors.getMessages()</code>: Gets all the localized messages (beacon related) for the current solution</li>
<li><code>MapsIndoors.synchronizeMessages()</code>: Will pull message data from MapsIndoors backend servers</li>
<li><code>Venue.getGeometry()</code>: added missing getter</li>
</ul>
<h3>Changed</h3>
<ul>
<li><code>MapControl.selectFloor()</code>: added validation of the given parameter (floor Z index). It will now throw <code>IllegalArgumentException</code> (if <code>dbglog.useDebug( true )</code>) if an invalid floor Z index was used.</li>
</ul>
<h3>Fixed</h3>
<ul>
<li><code>MapControl.displaySearchResults()</code> did show all POIs on the current floor shown regardless their own</li>
<li>MapsPeople watermark not keeping the same padding on both portrait and landscape modes</li>
</ul>
<h2>[2.0.3] - 2018-07-11</h2>
<h3>Added</h3>
<ul>
<li><code>MapsIndoors.getAvailableLanguages()</code> returns a list of the solution's available languages or just <code>null</code> if data isn't available</li>
<li><code>MIConnectivityUtils.isOnline()</code> replaces <code>UrlLoader.isOnline()</code></li>
<li><code>MapControl.setOnMarkerInfoWindowLongClickListener()</code></li>
<li><code>LocationDisplayRule.Builder.setBitmapDrawableIcon( bitmapDrawableResId )</code></li>
<li><code>LocationDisplayRule.Builder.setBitmapDrawableIcon( bitmapDrawableResId, with, height )</code></li>
<li><code>LocationDisplayRule.Builder.setVectorDrawableIcon( bitmapDrawableResId, with, height )</code></li>
<li><code>LocationDisplayRule.Builder.setIconSize( size )</code></li>
<li><code>MapControl.setUserLocationIconFromDisplayRule( locationDisplayRule )</code></li>
</ul>
<h3>Changed</h3>
<ul>
<li><code>MapsIndoors.getDefaultLanguage()</code> will return now the solution's default language instead of the library's fallback one. If there is no data available yet, this method will now return <code>null</code></li>
<li><code>LocationDisplayRule.Builder.setIconURL( iconURL )</code> is now an &quot;internal&quot; method and should not be used. Please use any of the other ways to set display rule icon</li>
</ul>
<h3>Deprecated</h3>
<ul>
<li><code>UrlLoader.isOnline()</code>. Use <code>MIConnectivityUtils.isOnline()</code> instead</li>
<li><code>LocationDisplayRule.Builder.setIcon( bitmapDrawableResId )</code>. Use <code>LocationDisplayRule.Builder.setBitmapDrawableIcon( bitmapDrawableResId )</code> or <code>LocationDisplayRule.Builder.setBitmapDrawableIcon( bitmapDrawableResId, with, height )</code> instead</li>
<li><code>LocationDisplayRule.Builder.setIcon( vectorDrawableResId, with, height )</code>. Use <code>LocationDisplayRule.Builder.setVectorDrawableIcon( vectorDrawableResId, with, height )</code> instead</li>
<li><code>LocationDisplayRule.Builder.setPOISize( size )</code>. Use <code>LocationDisplayRule.Builder.setIconSize( size )</code> instead</li>
<li><code>MapControl.setUserLocationIcon( bitmapDrawableResId )</code> and <code>MapControl.setUserLocationIcon( vectorDrawableResId, color, width, height )</code>. Use <code>MapControl.setUserLocationIconFromDisplayRule( locationDisplayRule )</code> instead</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Custom display rules set on locations now working</li>
</ul>
<h2>[2.0.2] - 2018-06-20</h2>
<h3>Changed</h3>
<ul>
<li><code>Point.equals()</code> will return true if the distance between them is less than 1m. It also takes into account its Z value (altitude)</li>
<li>Graph data is be now available by default. This will enable offline routing when indoors</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Fixed a crash in <code>MapsIndoors.setLocationsProvider</code> when trying to set a custom locations provider</li>
</ul>
<h2>[2.0.1] - 2018-06-11</h2>
<h3>Fixed</h3>
<ul>
<li>The blue dot (current user location) didn't move after the first time it was set.</li>
</ul>
<h2>[2.0.0] - 2018-06-07</h2>
<h2>[2.0.0-rc9] - 2018-06-07</h2>
<h3>Deprecated</h3>
<ul>
<li><code>MPRoutingProvider.setGoogleServerKey()</code>: Set the Google API Key with <code>MapsIndoors.setGoogleAPIKey()</code> and retrieve it via <code>MapsIndoors.getGoogleAPIKey()</code></li>
</ul>
<h2>[2.0.0-rc8] - 2018-06-04</h2>
<h3>Fixed</h3>
<ul>
<li><code>MPLocationsAsyncLoader</code>: Internal cache not properly updated on multi-solution projects</li>
</ul>
<h2>[2.0.0-rc7] - 2018-06-04</h2>
<h3>Added</h3>
<ul>
<li><code>LocationQuery.Builder.setDataSync()</code>: Sets the location provider in &quot;data sync mode&quot;</li>
</ul>
<h2>[2.0.0-rc6] - 2018-05-30</h2>
<h3>Added</h3>
<ul>
<li><code>MapsIndoors.enableOfflineTilesUpdates()</code>: Only used in projects with offline data enabled and set to get indoor tiles embedded in the app</li>
<li><code>MapControl.setDisplayRuleLabelDefaultMaxCharLength()</code>: This caps all display rule label string lenghts at the given value at render time</li>
</ul>
<h3>Deprecated</h3>
<ul>
<li>Use the new <code>MPDirectionsRenderer( Context context, GoogleMap map, MapControl mapControl, OnLegSelectedListener legSelectedListener )</code> which takes an instance of MapControl</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Routing: &quot;Next&quot; labels on the map not clickable</li>
</ul>
<h2>[2.0.0-rc5] - 2018-05-28</h2>
<h3>Changed</h3>
<ul>
<li>Changed MapsPeople's logo (watermark) to the right (right side in LTR, left on RTL languages)</li>
</ul>
<h2>[2.0.0-rc4] - 2018-05-23</h2>
<h3>Fixed</h3>
<ul>
<li>Fixed issue in <code>MapsIndoors.MIImageProvider</code></li>
</ul>
<h3>Deprecated</h3>
<ul>
<li>In the <code>dbglog</code> class deprecated <code>SetLoglevel()</code>, <code>startTimer()</code> and <code>startTimer()</code></li>
<li>Use the Kotlin friendly <code>MPDirectionsRenderer( Context context, GoogleMap map, OnLegSelectedListener legSelectedListener )</code> constructor instead of <code>MPDirectionsRenderer( Context context, OnLegSelectedListener legSelectedListener, GoogleMap map )</code></li>
</ul>
<h2>[2.0.0-rc3] - 2018-05-17</h2>
<h3>Added</h3>
<ul>
<li>
<p>Implemented <code>MapsIndoors.getLocationById()</code></p>
</li>
<li>
<p>Added <code>MapsIndoors.isOnline()</code></p>
</li>
<li>
<p>Added <code>MapsIndoors.allowToDownloadData()</code> and <code>MapsIndoors.isAllowedToDownloadData()</code></p>
</li>
</ul>
<h3>Changed</h3>
<ul>
<li>Non-sync backend location queries will now return a list of local data references</li>
</ul>
<h2>[2.0.0-rc2] - 2018-05-15</h2>
<h3>Fixed</h3>
<ul>
<li>Fixed crash in <code>MapControl</code> when a devices's orientation changed (portrait &lt;-&gt; landscape)</li>
</ul>
<h3>Added</h3>
<ul>
<li>Added two new methods to the <code>Floor</code> model (<code>getOutline()</code> and <code>getOutlineAsLatLngList()</code>)</li>
</ul>
<h2>[2.0.0-rc1] - 2018-05-14</h2>
<h3>Added</h3>
<ul>
<li>Floorplan tile sizes can be now set with <code>MapControl.setTileSize( tileSize )</code>. Tile sizes depend on the Solution (it is not mandatory for all MapsIndoors solutions to support all tile sizes)</li>
</ul>
<h3>Changed</h3>
<ul>
<li>Changed <code>MPRoutingProvider</code> method signature from <code>setDateTime( Calendar date, boolean isDeparture )</code> to <code>setDateTime( int date, boolean isDeparture )</code>.</li>
</ul>
<h3>Deprecated</h3>
<ul>
<li>All <code>MapControl.setMapPosition</code>. These were just wrapper methods around <code>GoogleMap.animateCamera</code> and <code>MapControl.moveCamera</code></li>
</ul>
