<p>Changelog for MapsIndoors SDK for JavaScript. This document structure is based on <a href="http://keepachangelog.com/en/1.0.0/">Keep a Changelog</a> and the project adheres to <a href="http://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<h2>[3.6.0] - 2020-01-02</h2>
<h3>Changed</h3>
<ul>
<li><code>ShareService.directionsToPhone</code> now requires country code to be provided separately.</li>
</ul>
<h2>[3.5.1] - 2019-12-19</h2>
<h3>Changed</h3>
<ul>
<li>Changed the locations service to utilize the new backend APIs' new URL structure.</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Fixed a bug where <code>VenuesService.getBuildings</code> calls for Solutions/Venues with no Buildings caused rejection.</li>
</ul>
<h2>[3.5.0] - 2019-12-17</h2>
<h3>Added</h3>
<ul>
<li>Share service with function to send route directions via text message to phone.</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Fixed a bug where user roles were not passed along to distance matrix call.</li>
<li>Fixed bug where <code>getBuilding</code> returned <code>undefined</code> until the map had been moved.</li>
</ul>
<h2>[3.4.1] - 2019-10-30</h2>
<h3>Added</h3>
<ul>
<li>Client-side caching. Most requests are now cached in the browser.</li>
<li>Added support for separate visibility control of Label and Icon</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>The <code>DirectionsService</code> will now return a route object with the status <code>ZERO_RESULTS</code> if no route could be calculated. Previously it threw an error.</li>
<li>Fixed a bug where the <code>imageURL</code> property on Locations sometimes would be named <code>imageurl</code>.</li>
</ul>
<h2>[3.4.0] - 2019-08-28</h2>
<h3>Changed</h3>
<ul>
<li>Floor calculation when Building comes into focus according to agreed upon strategy, including respecting default Floor of a Building.</li>
<li>The <code>filter</code> method now respects the <code>fitView</code> boolean also when clearing filter.</li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Make sure selected/highlighted Floor is always visible (no need to scroll) when focusing Building.</li>
</ul>
<h2>[3.3.2] - 2019-08-15</h2>
<h3>Fixed</h3>
<ul>
<li>App config cache is now based on solution to avoid misconfiguration when switching solution.</li>
</ul>
<h2>[3.3.1] - 2019-07-31</h2>
<h3>Fixed</h3>
<ul>
<li>No longer assume that location <code>imageURL</code> always is received in lowercase from the backend.</li>
</ul>
<h2>[3.3.0] - 2019-07-15</h2>
<h3>Added</h3>
<ul>
<li><code>SolutionsService.getUserRoles()</code> gets a list of user roles that can be used for filtering the directions result. This prevents routes from going through restriced areas.</li>
</ul>
<h3>Changed</h3>
<ul>
<li>userRoles parameter added to DirectionsService.getRoute() for filtering the directions result. The userRoles paramter takes a array of user role ids.</li>
<li>Directions to a venue can now make directions via a parking lot when driving or bicycling.</li>
</ul>
<h2>[3.2.3] - 2019-06-27</h2>
<h3>Fixed</h3>
<ul>
<li>Fixed a bug in <code>mapsindoors.DirectionsRenderer</code>.
When <code>setRoute(null)</code> was called to remove the route from map it would throw an error.</li>
<li>Fixed the &quot;Cannot read property 'toJSON()' of null&quot; error caused by looking for buildings in view before the map has a bounding box.</li>
</ul>
<h2>[3.2.2] - 2019-06-24</h2>
<h3>Changed</h3>
<ul>
<li>Fixed build toolchain to prevent IE11 crash.</li>
</ul>
<h2>[3.2.1] - 2019-05-24</h2>
<h3>Added</h3>
<ul>
<li>Added the ability to change the API key at runtime via <code>mapsindoors.MapsIndoors.setApiKey(key);</code></li>
<li>Added the functions to get and set the language at runtime:
<ul>
<li><code>mapsindoors.MapsIndoors.setLanguage(language);</code></li>
<li><code>mapsindoors.MapsIndoors.getLanguage();</code></li>
</ul>
</li>
</ul>
<h3>Changed</h3>
<ul>
<li>The SDK now selects the fastest backend server based on a latency test.</li>
<li>A list of known backends is stored in localStorage for the SDK to choose from.
The list of known backends are updated automatically as part of the latency test.</li>
</ul>
<h2>[3.1.1] - 2019-03-14</h2>
<h3>Fixed</h3>
<ul>
<li>Fixed a crash caused by setting mapStyle via the MapsIndoors constructor.</li>
</ul>
<h2>[3.1.0] - 2019-03-13</h2>
<h3>Changed</h3>
<ul>
<li>It's now posible to set a displayRule for a list of location ids or types. <code>myMapsIndoors.setDisplayRule([&quot;abc&quot;, &quot;cde&quot;, &quot;fgh&quot;], { visible: false });</code></li>
</ul>
<h3>Added</h3>
<ul>
<li>Added the functions setMapStyle, getMapStyle and getMapStyles to MapsIndoors.
<ul>
<li>setMapStyle() set a new indoor map style.</li>
<li>getMapStyle() get the current style of the indoors map.</li>
<li>getMapStyles() get a list of availeble indoor map styles.</li>
</ul>
</li>
</ul>
<h2>[3.0.5] - 2019-02-27</h2>
<h3>Fixed</h3>
<ul>
<li>Optimized map performance by reducing the amount POIs</li>
</ul>
<h2>[3.0.2] - 2019-02-19</h2>
<h3>Fixed</h3>
<ul>
<li>Support for IE 11</li>
</ul>
<h2>[3.0.0] - 2018-10-23</h2>
<h3>Changed</h3>
<ul>
<li>Script must now be loaded with apikey parameter instead of solutionId, e.g. <code>https://app.mapsindoors.com/mapsindoors/js/sdk/mapsindoors-3.0.0-rc0.js?apikey=57e4e4992e74800ef8b69718</code></li>
<li>All services are now shared instances, so they cannot be newed. E.g. you must rewrite <code>let directionsService = new mapsindoors.DirectionsService();</code> to <code>let miDirectionsService = mapsindoors.DirectionsService;</code></li>
<li>Location click events for a MapsIndoors instance are now subscribable with the event name <code>click</code> instead of <code>location_click</code>, e.g.         <code>google.maps.event.addListener(myMapsIndoors, 'click', (poi) =&gt; { console.log(poi.id); });</code></li>
<li><code>DirectionService.route()</code> has been renamed to <code>DirectionService.getRoute()</code>.</li>
<li><code>DirectionRenderer.setDirections()</code> has been renamed to <code>DirectionRenderer.setRoute()</code>.</li>
<li><code>DirectionService.getRoute()</code> request parameter <code>travelMode</code> has been renamed to <code>mode</code>.</li>
<li><code>DirectionRenderer.setDirections()</code> now only accepts a single route instead of a route result, e.g. <code>DirectionRenderer.setRoute(myRouteResult.routes[0])</code>.</li>
<li>To highlight locations on a map through a <code>MapsIndoors</code> instance, instead of providing a query object to <code>MapsIndoors.find()</code>, you must now pass a list of <code>locationId</code>'s to <code>MapsIndoors.filter()</code>.</li>
</ul>
<h3>Removed</h3>
<ul>
<li>Removed <code>MapsIndoors.find()</code>, use <code>MapsIndoors.filter()</code> instead</li>
<li>Removed <code>MapsIndoors.locate()</code>, use <code>MapsIndoors.filter()</code> instead</li>
</ul>
<h3>Added</h3>
<ul>
<li>Icons for single Locations can now be updated independantly, by referencing the location id. E.g. <code>myMapsIndoors.setDisplayRule('some-location-id', { icon: { url: 'https://icon.url' } });</code></li>
</ul>
<h3>Fixed</h3>
<ul>
<li>Fixed a rendering bug that was causing MapsIndoors' map markers to occasionally disappear</li>
</ul>
